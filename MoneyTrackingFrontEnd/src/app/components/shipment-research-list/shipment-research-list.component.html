

<div class="box">

  <mat-card style="width: 100%">

    <mat-card-actions [align]="'end'" style="margin: 0; justify-content: space-between;">
      <div class="col-start" style="display:flex; align-items: center;" >

      </div>

      <div class="col">

        <button
        mat-button
        style="margin: 0px"
        matTooltip="Filtre"
        matTooltipPosition="above"
        (click)="openFilterDialog()"
      >
        <mat-icon>filter_alt</mat-icon>
      </button>



      <button
        mat-button
        style="margin: 0px"
        matTooltip="Yazdır"
        matTooltipPosition="above"
        (click)="exportXlsx()"
      >
        <mat-icon>print</mat-icon>
      </button>
      <button
        mat-button
        matTooltip="Gönder"
        matTooltipPosition="above"
        style="margin: 0px"
      >
        <mat-icon>file_upload</mat-icon>
      </button>
      <button
        mat-button
        style="margin: 0px"
        matTooltip="Yenile"
        matTooltipPosition="above"
        (click)="searchHide = false "
        (click)="getAllShipmentListDetailByStatusAndDate()"
      >
        <mat-icon>refresh</mat-icon>
      </button>

      <button
        mat-button
        style="margin: 0px"
        matTooltip="Ara"
        matTooltipPosition="above"
        (click)="searchHide = !searchHide"
        (click)="filterText=''" (click)="filterDataSource()"

      >
        <mat-icon>search</mat-icon>
      </button>
    </div>
    </mat-card-actions>

    <mat-card-content>
      <ngx-spinner  *ngIf="dataLoaded == false" bdColor = "rgba(0,0,0,0.8)" size = "medium" color = "#7b1fa2" type = "square-jelly-box" [fullScreen] = "true"><p style="color: #fff" > Yükleniyor... </p></ngx-spinner>
      <mat-progress-bar
        *ngIf="dataLoaded == false"
        mode="indeterminate"
      ></mat-progress-bar>
      <div  style="display:flex; justify-content: center ; align-items: center;">
        <mat-form-field
          *ngIf="searchHide"
          appearance="outline"
          style="width: 60%"
          color="accent"
        >
          <mat-label>Ara</mat-label>
          <input matInput  [(ngModel)]="filterText"(keyup)="filterDataSource()" placeholder="Aranacak Kelimeyi Yazınız." />
          <button  matSuffix mat-icon-button aria-label="Clear" (click)="filterText=''" (click)="filterDataSource()">
            <mat-icon>{{filterText ? 'clear' : 'search'}}</mat-icon>
          </button>
        </mat-form-field>
      </div>
<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
    <div class="mat-elevation-z8" style="padding: 10px;">
      <h1 style="margin: 0px; padding: 5px;">Sevkiyat Listesi</h1>
      <table
      mat-table
      id="shipmentListTable"
      [dataSource]="dataSourceShipment"
      matSort
      style="width: 100%; height: 100%"
    >
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tarih</th>
        <td mat-cell *matCellDef="let element">
          {{ element.date | date: "yyyy-MM-dd" }}
        </td>
      </ng-container>

      <ng-container matColumnDef="customerCode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Müşteri Kodu
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.customerCode }}
        </td>
      </ng-container>

      <ng-container matColumnDef="customerNameSurname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Adı Soyadı
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.customerNameSurname }}
        </td>
      </ng-container>

      <ng-container matColumnDef="promissoryNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Senet Numarası
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.promissoryNumber }}
        </td>
      </ng-container>

      <ng-container matColumnDef="adress">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Adres</th>
        <td mat-cell *matCellDef="let element">
          {{ element.adress }}
        </td>
      </ng-container>

      <ng-container matColumnDef="result">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Sonuç</th>
        <td mat-cell *matCellDef="let element">
          {{ element.result }}
        </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumnsShipment"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsShipment"></tr>
    </table>

    <mat-paginator
      [pageSize]="50"
      [pageSizeOptions]="[10, 20, 30, 50, 100]"
      showFirstLastButtons
      aria-label="Select page"
    >
      >
    </mat-paginator>

    </div>
  </div>


  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
    <div class="mat-elevation-z8" style="padding: 10px;">
      <h1 style="margin: 0px; padding:5px;">Sor Listesi</h1>
      <table
        mat-table
        id="researchListTable"
        [dataSource]="dataSourceResearch"
        matSort
        style="width: 100%; height: 100%"
      >


        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Tarih</th>
          <td mat-cell *matCellDef="let element">
            {{ element.date | date :'yyyy-MM-dd'  }}
          </td>

        </ng-container>

        <ng-container matColumnDef="shipmentNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Sıra</th>
          <td mat-cell *matCellDef="let element">
            {{ element.shipmentNumber }}
          </td>

        </ng-container>

        <ng-container matColumnDef="customerCode">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Müşteri Kodu</th>
          <td mat-cell *matCellDef="let element">
            {{ element.customerCode }}
          </td>

        </ng-container>


        <ng-container matColumnDef="customerNameSurname">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Adı Soyadı</th>
          <td mat-cell *matCellDef="let element">
            {{ element.customerNameSurname }}
          </td>

        </ng-container>


        <ng-container matColumnDef="promissoryNumber">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Senet Numarası</th>
          <td mat-cell *matCellDef="let element">
            {{ element.promissoryNumber }}
          </td>

        </ng-container>


        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Açıklama</th>
          <td mat-cell *matCellDef="let element">
            {{ element.description }}
          </td>

        </ng-container>






        <tr mat-header-row *matHeaderRowDef="displayedColumnsResearch"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsResearch"></tr>

      </table>

        <mat-paginator
      [pageSize]="50"
      [pageSizeOptions]="[10, 20, 30, 50, 100]"
      showFirstLastButtons
      aria-label="Select page"
    >
      >
    </mat-paginator>

    </div>
  </div>


    </div>
    </mat-card-content>
  </mat-card>
</div>

